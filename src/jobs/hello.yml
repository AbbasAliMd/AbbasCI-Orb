description: >
  Sample description
# What will this job do?

executor: default

parameters:
  to:
    type: string
    default: "World"
    description: "Hello to whom?"
  aws_role:
    default: AWS_CC_ROLE
    description: AWS account Role ARN
    type: env_var_name
steps:
  - run:
      name: hello job step to check param as env
      environment:
        GET_TO: << parameters.to >>
      command: |
        echo "value of get_to $GET_TO"
        echo "Checking Bash Env"
  - run:
      name: "Setup custom environment variables"
      command: echo 'export MY_ENV_VAR="Mac"' >> "$BASH_ENV"
  - run: # print the name of the branch we're on
      name: "What branch am I on?"
      command: echo ${CIRCLE_BRANCH}
  # Run another step, the same as above; note that you can
  # invoke environment variable without curly braces.
  - run:
      name: "What branch am I on now?"
      command: echo $CIRCLE_BRANCH
  - run:
      name: "Print Builtin Vars"
      command: |
        echo $CIRCLE_SHA1
        echo $CIRCLE_USERNAME
  - run:
      name: "What was my custom environment variable?"
      command: echo ${MY_ENV_VAR}
  - run:
      name: "Print an env var stored in the Project"
      command: echo "value of Project_var ${PROJECT_ENV_VAR}"
  - run:
      name: "Print an env var stored in a Context"
      command: |
        echo "Conxt_aws ${<< parameters.aws_role >>}"
